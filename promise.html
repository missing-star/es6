<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>promise</title>
</head>
<body>
    <script>
       //  let response = {
       //      code:0,
       //      success:false
       //  };
       //  let promise = new Promise((resolve,reject) => {
       //      if(response.code == 1) {
       //          resolve('请求成功!');
       //      }
       //      else {
       //          reject('请求失败!');
       //      }
       //  }).then(res => {
       //     console.log(res);
       // }).catch(err => {
       //    console.log(err);
       // });

        // let p1 = Promise.resolve('a');
        // let p2 = Promise.resolve('b');
        // let p3 = Promise.resolve('c');
        // Promise.all([p1,p2,p3]).then(res => {
        //     console.log(res);
        // });
        // let p1 = Promise.resolve('a');
        // let p2 = Promise.resolve('b');
        // let p3 = Promise.reject('c');
        // Promise.race([p1,p2,p3]).then(res => {
        //     console.log(res);
        // },err => {
        //     console.log(err);
        // });

       let status = 1;
        let userLogin = (resolve,reject) => {
            setTimeout(() => {
                resolve('用户登录成功!');
            },2000);
       }

       let getUserInfo = (resolve,reject) => {
            setTimeout(() => {
                if(status == 1) {
                    resolve('信息获取成功');
                }
                else {
                    reject('获取信息失败!');
                }
            },1000);
       }

       new Promise(userLogin).then(res => {
            console.log(res);
            return new Promise(getUserInfo);
       }).then(res => {
           console.log(res);
       });
    </script>
</body>
</html>